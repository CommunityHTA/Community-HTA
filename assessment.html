<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Assessment - Patient Selection</title>
    <link rel="stylesheet" href="assessment.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h2>Evalia</h2>
            </div>
            <nav class="sidebar-menu">
                <a href="healthcare-dashboard.html" class="menu-item">
                    <span class="icon">‚¨õ</span>
                    Dashboard
                </a>
                <a href="#" class="menu-item">
                    <span class="icon">üìÖ</span>
                    Calendar
                </a>
                <a href="#" class="menu-item">
                    <span class="icon">üë•</span>
                    My patients
                </a>
                <a href="#" class="menu-item active">
                    <span class="icon">üìã</span>
                    Assessments
                </a>
                <div class="sidebar-footer">
                    <a href="#" class="menu-item">
                        <span class="icon">‚öôÔ∏è</span>
                        Settings
                    </a>
                    <a href="#" class="menu-item">
                        <span class="icon">‚ùì</span>
                        Help and support
                    </a>
                </div>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Breadcrumb -->
            <div class="breadcrumb">
                <a href="healthcare-dashboard.html">Dashboard</a>
                <span class="separator">‚Ä∫</span>
                <span class="current">New assessment</span>
            </div>

            <!-- Progress Steps -->
            <div class="progress-steps">
                <div class="step active">
                    <div class="step-circle">
                        <span class="step-icon">‚úì</span>
                    </div>
                    <span class="step-label">Select patient</span>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-circle">
                        <span class="step-number">2</span>
                    </div>
                    <span class="step-label">Needs</span>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-circle">
                        <span class="step-number">3</span>
                    </div>
                    <span class="step-label">Focus</span>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-circle">
                        <span class="step-number">4</span>
                    </div>
                    <span class="step-label">Start assessment</span>
                </div>
            </div>

            <!-- Patient List Section -->
            <div class="patient-list-section">
                <h1>Patient list</h1>
                <p class="section-description">Select a patient to make the assessment</p>
                
                <!-- Search Bar -->
                <div class="search-container">
                    <div class="search-bar">
                        <span class="search-icon">üîç</span>
                        <input type="text" id="patientSearch" placeholder="Search patient name or ID..." onkeyup="filterPatients()">
                    </div>
                </div>
                
                <!-- Patient Table -->
                <div class="patient-table">
                    <div class="table-header">
                        <div class="header-cell patient-name">Patient Name</div>
                        <div class="header-cell patient-id">Patient ID</div>
                        <div class="header-cell location">Location</div>
                        <div class="header-cell health-condition">Health Condition</div>
                        <div class="header-cell contact-number">Contact Number</div>
                        <div class="header-cell email">Email</div>
                    </div>
                    
                    <div id="patientTableBody">
                        <!-- Patient rows will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Next Step Button -->
            <div class="next-step-container">
                <button class="next-step-button">
                    Next step
                    <span class="arrow-icon">‚Üí</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Patient data
        const patients = [
            {
                name: "Ana Pereira",
                id: "3355",
                location: "Coimbra",
                condition: "Coronary artery disease",
                phone: "924 540 689",
                email: "ana@mail.com",
                avatar: "https://randomuser.me/api/portraits/women/65.jpg"
            },
            {
                name: "Ant√≥nio Ferreira",
                id: "8374",
                location: "Set√∫bal",
                condition: "Ischemic cerebrovascular",
                phone: "913 585 938",
                email: "antonio@mail.com",
                avatar: "https://randomuser.me/api/portraits/men/85.jpg"
            },
            {
                name: "Carlos Martins",
                id: "1934",
                location: "Lisbon",
                condition: "Primary hypertension",
                phone: "910 459 432",
                email: "carlos@mail.com",
                avatar: "https://randomuser.me/api/portraits/men/32.jpg"
            },
            {
                name: "Jos√© Oliveira",
                id: "4829",
                location: "Porto",
                condition: "Ischemic heart disease",
                phone: "913 056 995",
                email: "jose@mail.com",
                avatar: "https://randomuser.me/api/portraits/men/45.jpg"
            },
            {
                name: "Jos√© Silva",
                id: "9481",
                location: "Faro",
                condition: "Hospital Dyslipidemia",
                phone: "968 594 245",
                email: "jose@mail.com",
                avatar: "https://randomuser.me/api/portraits/men/67.jpg"
            },
            {
                name: "Luis Rodrigues",
                id: "4892",
                location: "Lisbon",
                condition: "Coronary artery",
                phone: "912 583 924",
                email: "luis@mail.com",
                avatar: "https://randomuser.me/api/portraits/men/55.jpg"
            },
            {
                name: "Paula Santos",
                id: "1948",
                location: "Braga",
                condition: "Ischemic heart",
                phone: "924 543 995",
                email: "paula@mail.com",
                avatar: "https://randomuser.me/api/portraits/women/33.jpg"
            },
            {
                name: "S√©rgio Fernandes",
                id: "9183",
                location: "Braga",
                condition: "Coronary artery",
                phone: "966 482 345",
                email: "sergio@mail.com",
                avatar: "https://randomuser.me/api/portraits/men/77.jpg"
            },
            {
                name: "Teresa Almeida",
                id: "9918",
                location: "Porto",
                condition: "Ischemic heart disease",
                phone: "914 853 953",
                email: "teresa@mail.com",
                avatar: "https://randomuser.me/api/portraits/women/22.jpg"
            }
        ];

        // Sort patients alphabetically by name
        patients.sort((a, b) => a.name.localeCompare(b.name));

        // Function to render patient rows
        function renderPatients(patientsToRender) {
            const tableBody = document.getElementById('patientTableBody');
            tableBody.innerHTML = '';

            patientsToRender.forEach(patient => {
                const row = document.createElement('div');
                row.className = 'table-row';
                row.innerHTML = `
                    <div class="cell patient-name">
                        <img src="${patient.avatar}" alt="${patient.name}" class="patient-avatar">
                        ${patient.name}
                    </div>
                    <div class="cell patient-id">${patient.id}</div>
                    <div class="cell location">${patient.location}</div>
                    <div class="cell health-condition">${patient.condition}</div>
                    <div class="cell contact-number">${patient.phone}</div>
                    <div class="cell email">${patient.email}</div>
                `;
                tableBody.appendChild(row);
            });
        }

        // Function to filter patients based on search input
        function filterPatients() {
            const searchTerm = document.getElementById('patientSearch').value.toLowerCase();
            
            if (searchTerm === '') {
                renderPatients(patients);
                return;
            }
            
            const filteredPatients = patients.filter(patient => 
                patient.name.toLowerCase().includes(searchTerm) || 
                patient.id.includes(searchTerm)
            );
            
            renderPatients(filteredPatients);
        }

        // Initial render
        document.addEventListener('DOMContentLoaded', () => {
            renderPatients(patients);
        });
    </script>
</body>
</html>