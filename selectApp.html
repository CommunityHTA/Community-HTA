<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Healthcare Assessment App</title>
    <link rel="stylesheet" href="selectApp.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="img/evalia.png" type="image/png" /> 
  </head>
  <body>
    <div class="screen">
      <header class="header">
        <nav class="breadcrumb">
          <span class="breadcrumb-item">Dashboard</span>
          <div class="breadcrumb-item">
            <img
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/6ee00d2dde44c7413cb2ac333d47d6b2c2227ec4220aaf5a5a9c85f21ec43c2b?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
              class="breadcrumb-icon"
              alt="Breadcrumb separator"
            />
            <span class="breadcrumb-text">New assessment</span>
          </div>
          <div class="breadcrumb-item active">
            <img
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/6ee00d2dde44c7413cb2ac333d47d6b2c2227ec4220aaf5a5a9c85f21ec43c2b?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
              class="breadcrumb-icon"
              alt="Breadcrumb separator"
            />
            <span class="breadcrumb-text">Set up your assessment</span>
          </div>
        </nav>
      </header>

      <main class="main-content">
        <div class="content-layout">
          <section class="assessment-section">
            <div class="assessment-container">
              <div class="assessment-content">
                <nav class="stepper">
                  <div class="step">
                    <img
                      src="https://cdn.builder.io/api/v1/image/assets/TEMP/569c61dfac9b161c2a7c0d6162972f5d6f53658db8327501987af0fac444afed?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                      class="step-icon"
                      alt="Step complete"
                    />
                    <span class="step-label">Select patient</span>
                  </div>
                  <div class="step-divider"></div>
                  <div class="step">
                    <img
                      src="https://cdn.builder.io/api/v1/image/assets/TEMP/569c61dfac9b161c2a7c0d6162972f5d6f53658db8327501987af0fac444afed?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                      class="step-icon"
                      alt="Step complete"
                    />
                    <span class="step-label">Needs</span>
                  </div>
                  <div class="step-divider"></div>
                  <div class="step">Focus</div>
                  <div class="step-divider inactive"></div>
                  <div class="step inactive">
                    <div class="step-circle"></div>
                    <span class="step-label">Start assessment</span>
                  </div>
                </nav>

                <section class="section-header">
                  <h1 class="section-title">
                    Which app do you want to assess?
                  </h1>
                  <p class="section-description">
                    Search the application name for results
                  </p>
                </section>

                <div class="search-container">
                  <div class="search-field">
                    <div class="search-content">
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/2015cdb12a2eadbba2e6171cda6d37af5fcb6e99a25e96fe79fc1a07abb432dd?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="search-icon"
                        alt="Search"
                      />
                      <span class="search-placeholder">Search app name...</span>
                    </div>
                  </div>
                </div>

                <img
                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/7c0c2d04aed3dfcc388966fb4d13e790c86754281e8c2392fab331ae15d18315?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                  class="divider"
                  alt="Divider"
                />

                <section class="section-header">
                  <h2 class="section-title">Top-ranked applications</h2>
                  <p class="section-description">Based on patient needs</p>
                </section>

                <div class="app-grid">
                  <div class="app-grid-row">
                    <article class="app-card">
                      <div class="app-image-container">
                        <img
                          src="https://cdn.builder.io/api/v1/image/assets/TEMP/bf4397d964c13bcdad3026c9ed886286b3945eeb372d417ccb4f690effadae61?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                          class="app-image"
                          alt="HeartMath app"
                        />
                      </div>
                      <div class="app-info">
                        <span class="app-rank">1</span>
                        <div class="app-details">
                          <h3 class="app-name">HeartMath</h3>
                          <span class="app-category">Health</span>
                          <div class="app-rating">
                            <span class="rating-value">4.9</span>
                            <img
                              src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e62ebe77cdcc80fc8a951289394dc9a4c7d2946cbda0cf7dc00eaab83ccc6bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                              class="rating-icon"
                              alt="Star"
                            />
                          </div>
                        </div>
                      </div>
                    </article>

                    <article class="app-card">
                      <div class="app-image-container">
                        <img
                          src="https://cdn.builder.io/api/v1/image/assets/TEMP/ddf6a49a7c084c901492e3ca97af02a9c33904cc177600153e86f3af1e433091?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                          class="app-image"
                          alt="BP Log app"
                        />
                      </div>
                      <div class="app-info">
                        <span class="app-rank">2</span>
                        <div class="app-details">
                          <h3 class="app-name">BP Log</h3>
                          <span class="app-category">Health</span>
                          <div class="app-rating">
                            <span class="rating-value">4.7</span>
                            <img
                              src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e62ebe77cdcc80fc8a951289394dc9a4c7d2946cbda0cf7dc00eaab83ccc6bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                              class="rating-icon"
                              alt="Star"
                            />
                          </div>
                        </div>
                      </div>
                    </article>

                    <article class="app-card">
                      <div class="app-image-container">
                        <img
                          src="https://cdn.builder.io/api/v1/image/assets/TEMP/2a2bd32ba969c3c7f4b222cfbfb1fb84eff8fc343c978f9fc3a93022acb10859?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                          class="app-image"
                          alt="Blood Pressure Tracker app"
                        />
                      </div>
                      <div class="app-info">
                        <span class="app-rank">3</span>
                        <div class="app-details">
                          <h3 class="app-name">Blood Pressure Tracker</h3>
                          <span class="app-category">Medical</span>
                          <div class="app-rating">
                            <span class="rating-value">4.6</span>
                            <img
                              src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e62ebe77cdcc80fc8a951289394dc9a4c7d2946cbda0cf7dc00eaab83ccc6bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                              class="rating-icon"
                              alt="Star"
                            />
                          </div>
                        </div>
                      </div>
                    </article>
                  </div>
                </div>

                <div class="app-list">
                  <div class="app-list-row">
                    <article class="app-list-item">
                      <span class="app-rank">3</span>
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/444e9f4f801abb15e8526c2802a501e6ecc0eeb4d59471401bf431cb81feb2c4?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="app-icon"
                        alt="Glycemic Index app"
                      />
                      <div class="app-details">
                        <h3 class="app-name">Glycemic Index</h3>
                        <span class="app-category">Medical</span>
                        <div class="app-rating">
                          <span class="rating-value">4.2</span>
                          <img
                            src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e62ebe77cdcc80fc8a951289394dc9a4c7d2946cbda0cf7dc00eaab83ccc6bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                            class="rating-icon"
                            alt="Star"
                          />
                        </div>
                      </div>
                    </article>

                    <article class="app-list-item">
                      <span class="app-rank">4</span>
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/0a1b64fe724793a019d0250ddc93cce121deb7f0842cfcc86dde2abfe01559cc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="app-icon"
                        alt="Foodnoms app"
                      />
                      <div class="app-details">
                        <h3 class="app-name">Foodnoms</h3>
                        <span class="app-category">Health & Fitness</span>
                        <div class="app-rating">
                          <span class="rating-value">4.7</span>
                          <img
                            src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e62ebe77cdcc80fc8a951289394dc9a4c7d2946cbda0cf7dc00eaab83ccc6bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                            class="rating-icon"
                            alt="Star"
                          />
                        </div>
                      </div>
                    </article>

                    <article class="app-list-item">
                      <span class="app-rank">5</span>
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/b1f2b465bcce7c43a2c1d88fc986d1db76908d4b8a4648823d6cbbd6513699d2?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="app-icon"
                        alt="Low GI Meal Plans app"
                      />
                      <div class="app-details">
                        <h3 class="app-name">Low GI Meal Plans</h3>
                        <span class="app-category">Food & Drink</span>
                        <div class="app-rating">
                          <span class="rating-value">4.2</span>
                          <img
                            src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e62ebe77cdcc80fc8a951289394dc9a4c7d2946cbda0cf7dc00eaab83ccc6bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                            class="rating-icon"
                            alt="Star"
                          />
                        </div>
                      </div>
                    </article>
                  </div>

                  <div class="app-list-row">
                    <article class="app-list-item">
                      <span class="app-rank">6</span>
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/b97c3d1206b7234474e395495b9698b8a9e3d7757d9d7548074e0dbf57539e33?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="app-icon"
                        alt="Sleep Cicle app"
                      />
                      <div class="app-details">
                        <h3 class="app-name">Sleep Cicle</h3>
                        <span class="app-category">Health</span>
                        <div class="app-rating">
                          <span class="rating-value">3.9</span>
                          <img
                            src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e62ebe77cdcc80fc8a951289394dc9a4c7d2946cbda0cf7dc00eaab83ccc6bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                            class="rating-icon"
                            alt="Star"
                          />
                        </div>
                      </div>
                    </article>

                    <article class="app-list-item">
                      <span class="app-rank">7</span>
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/e686c6ecaa4b06a8da6f38cdc0c47fcca3ac9cc078ec478117b3e33f8d5fa744?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="app-icon"
                        alt="Sleep app"
                      />
                      <div class="app-details">
                        <h3 class="app-name">Sleep</h3>
                        <span class="app-category">Medical</span>
                        <div class="app-rating">
                          <span class="rating-value">4.8</span>
                          <img
                            src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e62ebe77cdcc80fc8a951289394dc9a4c7d2946cbda0cf7dc00eaab83ccc6bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                            class="rating-icon"
                            alt="Star"
                          />
                        </div>
                      </div>
                    </article>

                    <article class="app-list-item">
                      <span class="app-rank">8</span>
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/0d80a9ee843df71abab95ab255176cc00ddfa4ce47d806ef9191349b02455ec1?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="app-icon"
                        alt="Bedtime Sleep app"
                      />
                      <div class="app-details">
                        <h3 class="app-name">Bedtime Sleep</h3>
                        <span class="app-category">Fitness</span>
                        <div class="app-rating">
                          <span class="rating-value">4.4.1</span>
                          <img
                            src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e62ebe77cdcc80fc8a951289394dc9a4c7d2946cbda0cf7dc00eaab83ccc6bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                            class="rating-icon"
                            alt="Star"
                          />
                        </div>
                      </div>
                    </article>
                  </div>

                  <!-- Third row of applications removed as requested -->
                </div>
              </div>

              <div class="navigation-buttons">
                <button class="btn btn-outline">
                  <img
                    src="https://cdn.builder.io/api/v1/image/assets/TEMP/b9c57ab22192c42deac09b031db2fea45a20b61cc64626296ecff0f5fb97b999?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                    class="btn-icon"
                    alt="Previous"
                  />
                  <span class="btn-label">Previous step</span>
                </button>
                <button class="btn btn-disabled">
                  <span class="btn-label">Next step</span>
                  <img
                    src="https://cdn.builder.io/api/v1/image/assets/TEMP/1f99f77719375f90161843b2832d7be19dc78f8c9edb84043dfd06cc624ffd17?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                    class="btn-icon"
                    alt="Next"
                  />
                </button>
              </div>
            </div>
          </section>

          <aside class="patient-sidebar">
            <div class="patient-container">
              <div class="patient-header">
                <img
                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/042f71c7e9331897ae549296373244902b40cc95e0b527b5fc5e03807c0b33e5?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                  class="patient-avatar"
                  alt="Patient avatar"
                />
                <h2 class="patient-name">José Silva</h2>
              </div>

              <div class="patient-content">
                <section class="patient-details">
                  <div class="details-list">
                    <div class="detail-item">
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/b1096fc5297fd5167f70474f7f0def7e4a523f0ec9ce34cafc620f203f159edf?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="detail-icon"
                        alt="ID"
                      />
                      <div class="detail-content">
                        <span class="detail-label">Identification</span>
                        <span class="detail-value">9481</span>
                      </div>
                    </div>

                    <div class="detail-item">
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/2f3d3c4c7b17418c4027c230eb3037e8e365865dea7b1b170a66c215d949462f?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="detail-icon"
                        alt="Email"
                      />
                      <div class="detail-content">
                        <span class="detail-label">E-mail</span>
                        <span class="detail-value">jose@mail.com</span>
                      </div>
                    </div>

                    <div class="detail-item">
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/0468524b8f60fad2cde946e699a98c77b4e4a1a545da6add4c910fbb313ec071?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="detail-icon"
                        alt="Phone"
                      />
                      <div class="detail-content">
                        <span class="detail-label">Phone</span>
                        <span class="detail-value">968 594 245</span>
                      </div>
                    </div>

                    <div class="detail-item">
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/cdcd2ce04a9ad1720711abe5e95fc69280cbdb9fb8baedc22c8e20e98cefffb6?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="detail-icon"
                        alt="Location"
                      />
                      <div class="detail-content">
                        <span class="detail-label">Location</span>
                        <span class="detail-value">Faro</span>
                      </div>
                    </div>
                  </div>
                </section>

                <img
                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/4e51555ca59bca2f8b1f4f12a01f42b68701037473ced31e61a02b80e7bacc82?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                  class="divider"
                  alt="Divider"
                />

                <section class="medication-section">
                  <div class="section-header-row">
                    <h3 class="section-title-sidebar">Medication</h3>
                    <button class="view-details-btn">View details</button>
                  </div>

                  <div class="medication-list">
                    <div class="medication-item">
                      <div class="medication-card">
                        <img
                          src="https://cdn.builder.io/api/v1/image/assets/TEMP/5034be6e9cc4201bae7a5a3c86997dbffe43294db6062a118344b356072e152f?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                          class="medication-icon"
                          alt="Amlodipine"
                        />
                        <div class="medication-details">
                          <span class="medication-name">Amlodipine</span>
                          <span class="medication-dosage">5mg</span>
                        </div>
                      </div>
                    </div>

                    <div class="medication-item">
                      <div class="medication-card">
                        <img
                          src="https://cdn.builder.io/api/v1/image/assets/TEMP/6e91eaa348afb8011e6cdcb6557be08790352f3ac177fcc95943f740c9b2f5a7?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                          class="medication-icon"
                          alt="Enalapril"
                        />
                        <div class="medication-details">
                          <span class="medication-name">Enalapril</span>
                          <span class="medication-dosage">20mg</span>
                        </div>
                      </div>
                    </div>

                    <div class="medication-item">
                      <div class="medication-card">
                        <img
                          src="https://cdn.builder.io/api/v1/image/assets/TEMP/0cbf925452f76b2dd0aa6ce45f18ddd00326b246ad8b152b1597fb0685ab7d82?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                          class="medication-icon"
                          alt="Potassium"
                        />
                        <div class="medication-details">
                          <span class="medication-name">Potassium</span>
                          <span class="medication-dosage">99mg</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>

                <img
                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/10bd94d814e43dd0a51adf2b0309a6c438c006faa0129b5e5a5161c00863f59f?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                  class="divider"
                  alt="Divider"
                />

                <section class="appointment-section">
                  <h3 class="section-title-sidebar">Appointment history</h3>

                  <div class="appointment-timeline">
                    <div class="timeline-indicators">
                      <div class="timeline-dot"></div>
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/45655b917721a455e8289d1c7f72c126bf5cbe47288b8f4a649d00ea6100d8bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="timeline-connector"
                        alt=""
                      />
                      <div class="timeline-dot"></div>
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/45655b917721a455e8289d1c7f72c126bf5cbe47288b8f4a649d00ea6100d8bc?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="timeline-connector"
                        alt=""
                      />
                      <div class="timeline-dot"></div>
                      <img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/ce15f6aad4df5bea0d68fa3705ece5aae369fe125441a89353b2d95d7dd1ea67?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                        class="timeline-connector"
                        alt=""
                      />
                    </div>

                    <div class="timeline-content">
                      <div class="appointment-item">
                        <time class="appointment-date"
                          >5 February, 10:30 AM</time
                        >
                        <div class="appointment-card">
                          <div class="appointment-details">
                            <div class="appointment-info">
                              <h4 class="appointment-title">
                                Flow up - Chest Pain
                              </h4>
                              <div class="doctor-info">
                                <img
                                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/28d10b3f8051bfa7cf72d9f9ea2bb904977874dbcca412a1eb3bf8ca8e0a192f?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                                  class="doctor-avatar"
                                  alt="Doctor avatar"
                                />
                                <span class="doctor-name"
                                  >Dr. James Carter</span
                                >
                              </div>
                            </div>
                            <span class="appointment-tag medication-tag"
                              >Medication</span
                            >
                          </div>
                          <div class="appointment-indicator"></div>
                        </div>
                      </div>

                      <div class="appointment-item">
                        <time class="appointment-date"
                          >28 January, 02:45 PM</time
                        >
                        <div class="appointment-card">
                          <div class="appointment-details">
                            <div class="appointment-info">
                              <h4 class="appointment-title">
                                Emergency - Chest Pain
                              </h4>
                              <div class="doctor-info">
                                <img
                                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/18553a9c54be9152617c4711cb7a8250123a0ca72de05ad5dda4d140b2955183?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                                  class="doctor-avatar"
                                  alt="Doctor avatar"
                                />
                                <span class="doctor-name"
                                  >Drª. Emily Bennett</span
                                >
                              </div>
                            </div>
                            <span class="appointment-tag emergency-tag"
                              >Emergency</span
                            >
                          </div>
                          <div class="appointment-indicator"></div>
                        </div>
                      </div>

                      <div class="appointment-item">
                        <time class="appointment-date"
                          >4 January, 09:30 AM</time
                        >
                        <div class="appointment-card">
                          <div class="appointment-details">
                            <div class="appointment-info">
                              <h4 class="appointment-title">
                                Medication Adjustment
                              </h4>
                              <div class="doctor-info">
                                <img
                                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/7456287aa1cee1c2517b4828a38bd50fa56c680d9ed8fa03c19d9d41ee81df53?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                                  class="doctor-avatar"
                                  alt="Doctor avatar"
                                />
                                <span class="doctor-name"
                                  >Dr. Daniel Reyes</span
                                >
                              </div>
                            </div>
                            <span class="appointment-tag checkup-tag"
                              >Regular Check-up</span
                            >
                          </div>
                          <div class="appointment-indicator"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </div>
          </aside>
        </div>
      </main>
    </div>

    <script>
      (() => {
        const state = {};

        let context = null;
        let nodesToDestroy = [];
        let pendingUpdate = false;

        function destroyAnyNodes() {
          // destroy current view template refs before rendering again
          nodesToDestroy.forEach((el) => el.remove());
          nodesToDestroy = [];
        }

        // Function to update data bindings and loops
        // call update() when you mutate state and need the updates to reflect
        // in the dom
        function update() {
          if (pendingUpdate === true) {
            return;
          }
          pendingUpdate = true;

          destroyAnyNodes();

          pendingUpdate = false;
        }

        // Update with initial state on first load
        update();
      })();
    </script>
  </body>
</html>
