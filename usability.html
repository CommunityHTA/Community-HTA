<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Patient Assessment</title>
    <link rel="stylesheet" href="medical.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="img/evalia.png" type="image/png" /> 
  </head>
  <body>
    <div class="screen">
      <header class="header">
        <nav class="breadcrumb">
          <a href="dashboard.html" class="breadcrumb-item">Dashboard</a>
          <div class="breadcrumb-current">
            <img
              src="icons/navigation/chevron-right.svg"
              class="breadcrumb-icon"
              alt="Breadcrumb separator"
            />
            <a href="patientList.html" class="breadcrumb-item">New assessment</a>
          </div>
          <div class="breadcrumb-current">
            <img
              src="icons/navigation/chevron-right.svg"
              class="breadcrumb-icon"
              alt="Breadcrumb separator"
            />
            <a href="selectApplication.html" class="breadcrumb-item">Set up your assessment</a>
          </div>
          <div class="breadcrumb-current">
            <img
              src="icons/navigation/chevron-right.svg"
              class="breadcrumb-icon"
              alt="Breadcrumb separator"
            />
            <span class="breadcrumb-item-current">Application assessment</span>
          </div>
        </nav>
      </header>

      <main class="main-content">
        <section class="stepper">
          <div class="step completed">
                  <img
                    src="icons/system/check-circle.svg"
                      class="step-icon-check"
                      alt="Check"
                  />
                  <span class="step-label">Medical Standards & SAMD Certification</span>
                </div>
          <div class="step-divider"></div>
          <div class="step completed">
                  <img
                    src="icons/system/check-circle.svg"
                      class="step-icon-check"
                      alt="Check"
                  />
                    <span class="step-label">Functionalities</span>
                </div>
          <div class="step-divider"></div>
          <div class="step active">
                    <img
                      src="icons/navigation/step.svg"
                      class="step-icon"
                      alt="Loading"
                    />
                    <span class="step-label">Usability</span>
                </div>
          <div class="step-divider"></div>
          <div class="step">
            <div class="step-circle"></div>
            <div class="step-label">Interface</div>
          </div>
        </section>

        <section class="section-title">
                <h2 class="title">
                  Rate the following key medical standards
                </h2>
                <p class="subtitle">Rate based on the CardiHealth app and the specific requirements and
            patient needs.</p>
              </section>


           <section class="rating-legend">
              <h2 class="rating-title">Rating</h2>
              <div class="rating-scale">
                <div class="rating-item">
                  <span class="rating-text">1 Star</span>
                  <div class="tooltip-container">
                    <img src="icons/general/star.svg" class="str" alt="Star" />
                    <div class="tooltip">Not helpful. Can be ignored.</div>
                  </div>
                </div>
                <div class="rating-item">
                  <span class="rating-text">2 Stars</span>
                  <div class="tooltip-container">
                    <img src="icons/general/star.svg" class="str" alt="Star" />
                    <div class="tooltip">Helpful, but not critical.</div>
                  </div>
                </div>
                <div class="rating-item">
                  <span class="rating-text">3 Stars</span>
                  <div class="tooltip-container">
                    <img src="icons/general/star.svg" class="str" alt="Star" />
                    <div class="tooltip">Important in some situations.</div>
                  </div>
                </div>
                <div class="rating-item">
                  <span class="rating-text">4 Stars</span>
                  <div class="tooltip-container">
                    <img src="icons/general/star.svg" class="str" alt="Star" />
                    <div class="tooltip">Significant for patient needs.</div>
                  </div>
                </div>
                <div class="rating-item">
                  <span class="rating-text">5 Stars</span>
                  <div class="tooltip-container">
                    <img src="icons/general/star.svg" class="str" alt="Star" />
                    <div class="tooltip">Essential for meeting patient needs.</div>
                  </div>
                </div>
              </div>
            </section>

      <div class="spacer"></div>

      <section class="topics-container">
        <div class="topics-list">
          <article class="topic-card">
            <div class="topic-content">
              <div class="topic-text">
                <h3 class="topic-title">Certification as SAMD</h3>
                <p class="topic-description">
                  It is important that the application is certified as SAMD
                  (Software as a Medical Device) to ensure compliance with medical
                  device regulations.
                </p>
              </div>
              <div class="topic-rating">
               <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                <div class="star-group">
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                </div>
              </div>
            </div>
          </article>
          <article class="topic-card">
            <div class="topic-content">
              <div class="topic-text">
                <h3 class="topic-title">Privacy Laws Compliance</h3>
                <p class="topic-description">
                  It is essential that the application complies with privacy laws
                  such as LGPD and GDPR to protect user data.)
                </p>
              </div>
              <div class="topic-rating">
                <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                <div class="star-group">
                 <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                 <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                 <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                 <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                </div>
              </div>
            </div>
          </article>
          <article class="topic-card">
            <div class="topic-content">
              <div class="topic-text">
                <h3 class="topic-title">Data Security</h3>
                <p class="topic-description">
                  It is crucial for the application to implement encryption and
                  authentication measures to safeguard user data.
                </p>
              </div>
              <div class="topic-rating">
                <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                <div class="star-group">
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                </div>
              </div>
            </div>
          </article>
          <article class="topic-card">
            <div class="topic-content">
              <div class="topic-text">
                <h3 class="topic-title">Sector-Specific Certifications</h3>
                <p class="topic-description">
                  The application should have relevant certifications (e.g., ISO,
                  CE) and undergo regular audits to demonstrate compliance.
                </p>
              </div>
              <div class="topic-rating">
                <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                <div class="star-group">
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                  <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                </div>
              </div>
            </div>
          </article>
          <article class="topic-card">
            <div class="topic-content">
              <div class="topic-text">
                <h3 class="topic-title">Transparency and Ethics</h3>
                <p class="topic-description">
                  The application must clearly communicate with users about their
                  rights and terms of service, ensuring ethical data handling
                </p>
              </div>
              <div class="topic-rating">
                <img
                  src="icons/general/star.svg"
                  class="star"
                  alt="Star"
                />
                <div class="star-group">
                  <img
                    src="icons/general/star.svg"
                    class="star"
                    alt="Star"
                  />
                  <img
                    src="icons/general/star.svg"
                    class="star"
                    alt="Star"
                  />
                  <img
                    src="icons/general/star.svg"
                    class="star"
                    alt="Star"
                  />
                  <img
                    src="icons/general/star.svg"
                    class="star"
                    alt="Star"
                  />
                </div>
              </div>
            </div>
          </article>
        </div>
        <div class="bottom-spacer"></div>
      </section>
    </main>

      <footer class="footer">
        <div class="navigation-buttons">
              <button class="btn btn-outline previous">
                <img
                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/b9c57ab22192c42deac09b031db2fea45a20b61cc64626296ecff0f5fb97b999?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                  class="btn-icon"
                  alt="Previous"
                />
                <span class="btn-label">Previous step</span>
              </button>
              <button class="btn btn-disabled next">
                  <span class="btn-label">Next step</span>
                  <img
                    src="https://cdn.builder.io/api/v1/image/assets/TEMP/1f99f77719375f90161843b2832d7be19dc78f8c9edb84043dfd06cc624ffd17?placeholderIfAbsent=true&apiKey=b548a82f0b244047909ff37cf86f743b"
                    class="btn-icon"
                    alt="Next"
                  />
              </button>
            </div>

      </footer>
    </main>
  </body>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
    const previousButton = document.querySelector(".previous");
    const nextButton = document.querySelector(".next");
    const topicCards = document.querySelectorAll(".topic-card");

    // Função para verificar se pelo menos uma estrela de cada grupo foi selecionada
    function checkIfAllSelected() {
        const allSelected = Array.from(topicCards).every(card => {
            const stars = card.querySelectorAll(".star");
            // Verifica se pelo menos uma estrela dentro de um card está com a classe 'selected'
            return Array.from(stars).some(star => star.classList.contains("selected"));
        });

        // Se todas as avaliações tiverem pelo menos uma estrela selecionada
        if (allSelected) {
            nextButton.classList.add("active");
            nextButton.classList.remove("btn-disabled");  // Remover a classe btn-disabled
        } else {
            nextButton.classList.remove("active");
            nextButton.classList.add("btn-disabled");  // Adicionar a classe btn-disabled
        }
    }

    // Lógica de eventos das estrelas
    topicCards.forEach((card) => {
        const stars = card.querySelectorAll(".star");

        stars.forEach((star, index) => {
            // Evento de Hover: ativa todas as anteriores
            star.addEventListener("mouseover", function () {
                highlightStars(stars, index);
            });

            // Remove hover quando o mouse sai da área da avaliação
            card.addEventListener("mouseleave", function () {
                resetHover(stars);
            });

            // Evento de Clique: fixa as estrelas ativas
            star.addEventListener("click", function () {
                setActiveStars(stars, index);
                checkIfAllSelected(); // Verifica se todos os grupos foram selecionados
            });
        });
    });

    // Função para destacar as estrelas durante o hover
    function highlightStars(stars, index) {
        stars.forEach((star, i) => {
            if (i <= index) {
                star.classList.add("hovered");
            } else {
                star.classList.remove("hovered");
            }
        });
    }

    // Função para remover o efeito de hover
    function resetHover(stars) {
        stars.forEach((star) => {
            if (!star.classList.contains("selected")) {
                star.classList.remove("hovered");
            }
        });
    }

    // Função para tornar as estrelas selecionadas
    function setActiveStars(stars, index) {
        stars.forEach((star, i) => {
            if (i <= index) {
                star.classList.add("selected");
                star.classList.remove("hovered"); // Remover hover ao selecionar
            } else {
                star.classList.remove("selected");
            }
        });
    }

    // Inicializar a verificação quando a página carregar para garantir que o estado inicial do botão seja correto
    checkIfAllSelected();

      // Evento para o botão "Previous"
    previousButton.addEventListener("click", function () {
        window.location.href = "functionalities.html";
    });

    // Evento para o botão "Next"
    nextButton.addEventListener("click", function () {
        if (nextButton.classList.contains("active")) {
            window.location.href = "interface.html";
        }
    });
});
  </script>
</html>
